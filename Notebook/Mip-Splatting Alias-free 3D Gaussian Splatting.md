## Mip-Splatting: Alias-free 3D Gaussian Splatting

### 一、研究背景与问题

**1.背景：**

- 新视图合成 (NVS) 在计算机图形学和计算机视觉中起着至关重要的作用，其中该领域的重大进展是2020提出的NeRF和3DGS
- **NeRF**：NeRF利用多层感知器（MLP）有效地表示几何和视图相关的外观，展示了卓越的新颖视图渲染质量。
- **3DGS**：3DGS基于飞溅的光栅化渲染到屏幕空间。通过多视图光度损失优化每个3D高斯体的属性，取得了令人惊艳的新视图合成结果。

**2.现有问题：**

- 3DGS为了避免3D高斯体太小从而导致出现无法覆盖一个像素的情况，在代码中加入了一个2D低通滤波器，是高斯体被投影到图像平面上，然后在屏幕空间中进行2D展开（在原文中没有提到）。但这个滤波器在改变采样率时无法取得一个好的反走样效果。当测试相机视图和训练时看到的视图有偏差的时候（如相机焦距改变，距离变大变小）会产生伪影现象。其实就是采样率低而信号频率高。
- 当视角缩小时，即焦距缩短，采样率降低，图中轮辐变厚变亮（图1c），缩小会导致屏幕空间中投影的2D高斯分布的大小减小，而应用相同量的膨胀会导致膨胀伪影。
- 当视角放大时，即缩短相机距离，出现高频伪影（图1d）放大会导致侵蚀伪影，因为投影的2D高斯扩展，但膨胀保持不变，导致侵蚀，并导致2D投影中高斯之间的间隙不正确。

![image-20250109160241453](Notebook/images/image-202501091602414153.png)

<center>图1

### 二、主要贡献（预滤波）

**1.3D平滑滤波器**

- 重建的3D场景的最高频率由训练阶段输入视图的采样率定义，引入3D平滑滤波器是为了在参数优化过程中约束3D高斯体表示的最大频率，将其限制在最大采样率的一半以内，这个是在投影到屏幕过程之前完成的，可以有效减轻高频伪影。新的3D高斯体表示在训练后保持不变，成为固定部分，后续渲染过程没有任何额外开销。
- 多视图的最高采样频率是由不同相机不同焦距组合中T=1/V=d/f最小的那个决定的

![image-20250109163516186](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109163516186.png)

<center>图2:文中定义的多视图最高采样频率，其中1n（Pk）是表示高斯中心Pk落入第n个相机的视锥内时评估图元可见性的指标函数

![image-20250109164347820](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109164347820.png)

<center>图3:3DGS原始的3D高斯体定义

![image-20250109164048158](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109164048158.png)

<center>图4:3D平滑滤波公式，s是控制过滤器的参数

**2.2D Mip滤波器**

- 如果较低的采样率渲染重建的场景（例如，缩小或将相机移得更远）仍会导致混叠。所以作者使用2D Mip滤波器代替了3DGS的屏幕空间膨胀滤波器（原始代码中的2D低通滤波器）。结果缩小视角时得到的结果更平滑。

- 2D Mip滤波器在成像过程中复制箱式滤波器，以精确到近似单个像素为目标。而EWA滤波器的大小是根据经验选择的,大概在3X3像素区域，会导致结果过度平滑

  ![image-20250109165216674](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109165216674.png)

<center>图5:2D Mip滤波器公式

## 

## 三、实验

**1.实验细节**

- 基于3DGS原始代码做改进，在所有场景中训练模型进行30K迭代，使用相同的损失函数、高斯密度控制策略、调度和超参数。
- 每100次迭代重新计算每个3D高斯的采样率
- 选择2D Mip滤波器的方差为0.1，近似为单个像素，3D平滑滤波器的方差也为0.2，总计为0.3（这是为了和3DGS和3DGS+EWA进行比较）

**2.Blender数据集表现**

- 分别对40%的全分辨率图像和20%的其他图像分辨率进行采样。实验结果基于单尺度训练、多尺度测试，1×、1/2、1/4和1/8是分辨率设置，用来模拟缩小效果

  ![image-20250109170336193](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109170336193.png)

  <center>图6:在Blender数据集上取得的表现

![image-20250109170913656](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109170913656.png)

<center>图7:效果定性对比演示

**3.Mip-NeRF 360数据集表现**

- 实验结果基于单尺度训练、多尺度测试，1×、1/2、1/4和1/8是分辨率设置，用来模拟缩小效果

![image-20250109170442175](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109170442175.png)

<center>图8:在Mip-NeRF 360数据集上取得的表现

![image-20250109171234897](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20250109171234897.png)

<center>图9：在经过八倍降采样的图像上训练的结果定性对比演示



## 四、不足之处

- 2D Mip滤波器在成像过程中复制箱式滤波器，方差为0.1取的是近似值，引入了误差，当高斯体在屏幕空间中很小时，0.1这个误差就会很大。
- 3D高斯体采样率每100次迭代计算一次,计算是使用PyTorch执行的,训练的计算开销会增加。

